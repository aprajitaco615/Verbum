from termcolor import coloredimport random  import mysql.connectorimport osimport sys#creating database in MySQL to store user informationdef Database_Create(p):    try:        con=mysql.connector.connect(user='root', host='localhost', password=p)        cur=con.cursor()        cur.execute('Create database if not exists Verbum;' )        cur.execute('Use Verbum')        cur.execute('Create table if not exists users(username varchar(20) primary key, play int, win int, score int)')        con.commit()        cur.close()        con.close()        except:        print('Unable to create database, please try again later')            finally:        try:            cur.close()            con.close()        except:            pass        #Creation of database in MySQL complete                #Creation of database of words def Wordbase_C():    import nltk      from nltk.corpus import words, wordnet     nltk.download('words')    nltk.download('wordnet')    L=[]    for w in words.words():        if len(w)==6:            L.append(w.lower())    added=set()    D={}    f=open('Word_Database.txt', 'w')    for i in L:        s=wordnet.synsets(i)        for syn in s:            for lemma in syn.lemma_names():                if len(lemma)==6 and lemma.lower() not in added:                      f.write(lemma.lower()+':'+ syn.definition()+'\n')                    added.add(lemma.lower())    f.close()# Word database creation complete        passw=input('Please enter your MySQL password \n')sys.stdout.write("\033[F")  # move cursor up one linesys.stdout.write("\033[K")  # clear the line#first time set up blockprint()print('First time set up creates database to store your and your friend''s top scores \n')verbase=input('Do you want to begin with first time setup? Y/N?')while verbase.strip().upper() not in ('Y', 'N'):    print('Please enter a valid answer (Y/N)')    verbase = input('Do you want to begin with first time setup? Y/N? ')if verbase.upper().strip()=='Y':    Database_Create(passw)    if not os.path.exists('Word_Database.txt'):    print('establishing database of words..')    Wordbase_C()      #setup complete#connecting to Verbum database to fetch user datatry:    con=mysql.connector.connect(user='root', host='localhost', password=passw)    cur=con.cursor()    cur.execute('Use Verbum')    cur.execute('Select username from users')    usernames=[u[0] for u in cur.fetchall()]     except mysql.connector.Error:    print('Incorrect password or database not found. Try again')    exit()    #adding/recalling username from player to fetch and change scoresplay=input('Have you played with us before? \n(Y/N)').strip().upper()if play=='N':    while True:        print('Enter new username \n')        sys.stdout.write("\033[F")          sys.stdout.write("\033[K")          username=(input('')).lower().strip()        if username in usernames:            print('This has already been taken, please enter a different username')        else:            print('Hello', username.title(), '!')            break    cur.execute('insert into users (username, play, win, score) VALUES (%s, %s, %s, %s)', (username.title(), 1, 0, 0))    con.commit()    if play=='Y':    print('Enter your previously used username:\n')    while True:        username=(input('')).lower().strip()        sys.stdout.write("\033[F")          sys.stdout.write("\033[K")          if username not in usernames:            print("We don't have this name in our database, please enter a previously used name")        else:            break    print('Welcome back', username.title(), '!')    cur.execute('update users set play=play+1 where username=%s;',(username,))    con.commit()#user fetching completecur.execute('Select score from users where username=%s', (username,))sco=cur.fetchone()if sco and sco[0] is not None:    high_score=sco[0]else:    high_score=0#opening file and loading all words and meanings into dictionary 'all_words'all_words={}f=open('Word_Database.txt', 'r')lines=f.readlines()for i in lines:    x=i.partition(':')    if x[0] not in (all_words.keys()):        all_words[x[0].strip()]=x[2].strip()f.close()#explanation of rulesprint('If a letter is in the right position, then the letter will turn magenta \nIf it is in the correct word but not in the right position, it will turn cyan \nIf it is not in the correct word, it will turn grey')print()print('You will get six guesses to get to the correct word. \nEnjoy!:)')print()#words0=list(all_words.keys()) #;ist of all lemma #function to color a letter and give it a colored backgrounddef color(letter, bg, c='white'):      #letter: the letter to color the background of, bg:the color to turn background of the letter    b=colored(letter, c, 'on_'+bg, attrs=['bold'])    return b    #commencement of the gameplay_again='go'print('\n', '~'*60, '\n')while play_again=='go':        correct_word1=random.choice(words0)    print('Please write your first guess: \n')    guesses=0    guess_list=[]    while guesses<6:        guess=input().lower()                sys.stdout.write("\033[F")  # move cursor up one line        sys.stdout.write("\033[K")  # clear the line        if guess==correct_word1:                        print(color(guess, 'magenta'))            print('You have guessed correctly!')            print("The meaning of the word is: \n", colored(all_words[correct_word1], 'green', attrs=['bold']))                        cur.execute('Update users set win=win+1 where username=%s;', (username,))            if (60-(guesses*10))>high_score:                cur.execute('Update users set score=%s where username=%s', ((60-(guesses*10)), username))                high_score=60-(guesses*10)                print('Your new highest score is', high_score, '!')            con.commit()            break                elif guess not in words0:            print('Sorry, the word you have entered is not valid. Please try again')                elif len(guess)!=6:            print('Please enter a six letter word only')                        else:            if guess in guess_list:                print('You have already guessed this word, please try a new one')            else:                   guess_list.append(guess)                guesses+=1                                correct_word=list(correct_word1)                for i in range(6):                                        if guess[i]==correct_word[i]:                        print(color(guess[i], 'magenta'), end=' ')                        correct_word[i]=" "                                        elif guess[i] in correct_word:                        print(color(guess[i], 'cyan', 'black'), end=' ')                        letter=guess[i]                        for j in range(6):                            if correct_word[j]==letter:                                correct_word[j]=' '                                break                                                                    else:                        print(color(guess[i], 'grey'), end=' ')                print()                                else:        print()        print('Sorry, you could not guess correctly')        print()        print('The correct word was', colored(correct_word1, 'green', attrs=['bold']))        print('The meaning of', colored(correct_word1, 'green', attrs=['bold']), 'is: \n', colored(all_words[correct_word1].title(), 'magenta'))        print()        print('Thank you for playing with us! \n\n')                print('Your current highest score is', high_score)            play_again=input('Do you want to play again? Say Go. \nTo quit playing , say Quit').strip().lower()  if play_again=='quit':    print('See you again later!')        cur.close()con.close()                